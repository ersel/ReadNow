{"version":3,"sources":["../scripts.babel/popup.js"],"names":[],"mappings":"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","file":"popup.js","sourcesContent":["'use strict';\n\n// QUICKSORT\n// https://www.nczonline.net/blog/2012/11/27/computer-science-in-javascript-quicksort/\n//takes an object returns the value over weight\nfunction value(item){\n  return item.dateAdded;\n}\n\nfunction swap(items, firstIndex, secondIndex){\n\tvar temp = items[firstIndex];\n\titems[firstIndex] = items[secondIndex];\n\titems[secondIndex] = temp;\n}\n\nfunction partition(items, left, right) {\n  var pivot   = value(items[Math.floor((right + left) / 2)]),\n      i       = left,\n      j       = right;\n\n\n  while (i <= j) {\n\n    while (value(items[i]) > pivot) {\n      i++;\n    }\n\n    while (value(items[j]) < pivot) {\n      j--;\n    }\n\n    if (i <= j) {\n      swap(items, i, j);\n      i++;\n      j--;\n    }\n  }\n\n  return i;\n}\n\nfunction quickSort(items, left, right) {\n\n  var index;\n\n  if (items.length > 1) {\n\n    index = partition(items, left, right);\n\n    if (left < index - 1) {\n      quickSort(items, left, index - 1);\n    }\n\n    if (index < right) {\n      quickSort(items, index, right);\n    }\n\n  }\n\n  return items;\n}\n\n// MAIN FUNCTION\nchrome.bookmarks.search('ReadNowBookmarks',\n\tfunction(BookmarksArray){\n\t\tif(BookmarksArray.length > 0){\n\t\t\tvar nodeId = BookmarksArray[0].id;\n\t\t\tchrome.bookmarks.getChildren(nodeId, function(children){\n\t\t\t\tif(children.length > 0){\n\n          var URLs = [];\n          for (var i = 0; i < children.length; i++) {\n            URLs.push(children[i]);\n          }\n          var sortedURLs = quickSort(URLs, 0, URLs.length - 1);\n\n          chrome.storage.sync.get({\n            order: 1\n          }, function(items) {\n            var index = 0;\n            if(items.order == 1) {\n                index = 0;\n            } else if(items.order == 2){\n                index = URLs.length - 1;\n            } else {\n              index = Math.floor(Math.random() * URLs.length);\n            }\n\n            //open the page in a new tab\n            chrome.tabs.create({ url: sortedURLs[index].url });\n            // remove it from bookmarks\n            chrome.bookmarks.remove(sortedURLs[index].id);\n          });\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('No pages to read');\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.log('Bookmark folder does not exist');\n\t\t}\n\t}\n);\n"]}